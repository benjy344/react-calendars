!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e=e||self).ReactCalendars={},e.React,e.ReactDOM)}(this,(function(t,n,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var v=1,D=["MON","TUE","WEN","THU","FRI","SAT","SUN"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],g="react-calendar",C="Previous",k="Next",T=function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i(h(n=f(this,(e=p(t)).call.apply(e,[this].concat(o)))),"onClick",(function(e){var t=n.props.selectedDay?new Date(n.props.selectedDay.getTime()):null,r=new Date(n.props.year,n.props.month,n.props.day);n.props.selectDay(e,r,t)})),n}return c(t,e),s(t,[{key:"render",value:function(){return n.createElement("button",{type:"button",onClick:this.onClick},this.props.day)}}]),t}(n.Component),S=function(e){function t(e){var n;return a(this,t),i(h(n=f(this,p(t).call(this,e))),"isDay",(function(e,t){return e instanceof Date&&n.props.year===e.getFullYear()&&n.props.month===e.getMonth()&&t===e.getDate()})),i(h(n),"isToday",(function(e){return n.isDay(new Date,e)})),n.state=t.getDerivedStateFromProps(e),n}return c(t,e),s(t,[{key:"getDayClass",value:function(e){var t=this,n=["".concat(g,"-day")];this.props.selectedDay&&this.isDay(this.props.selectedDay,e)&&n.push("is-selected"),this.isToday(e)&&n.push("is-today");var r=this.props.dateClasses.find((function(n){var r=d(n,1)[0];return t.isDay(r,e)}));return r&&n.push(r[1]),n.join(" ")}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"".concat(g,"-month")},this.props.displayMonthTitle&&b[this.props.month],this.props.displayDayTitles&&n.createElement("ul",{className:"".concat(g,"-day-titles")},m(Array(7)).map((function(e,t){return n.createElement("li",{key:t},D[t])}))),n.createElement("ul",{className:"".concat(g,"-days")},m(Array(this.state.numberOfDays+this.state.offset)).map((function(t,r){return n.createElement("li",{className:e.getDayClass(r-e.state.offset+1),key:r},r>=e.state.offset&&n.createElement(T,{day:r-e.state.offset+1,selectDay:e.props.selectDay,selectedDay:e.props.selectedDay,month:e.props.month,year:e.props.year,onSelect:e.props.onSelect}))}))))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=new Date(e.year,e.month,1).getDay()-v;return{numberOfDays:new Date(e.month+1>11?e.year+1:e.year,e.month+1>11?e.month+1:0,0).getDate(),offset:t>0?t:7+t}}}]),t}(n.Component),M=function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i(h(n=f(this,(e=p(t)).call.apply(e,[this].concat(o)))),"onClickPrevious",(function(){n.props.month>0?n.props.setMonth(n.props.month-1):(n.props.setMonth(11),n.props.setYear(n.props.year-1))})),i(h(n),"onClickNext",(function(){n.props.month<11?n.props.setMonth(n.props.month+1):(n.props.setMonth(0),n.props.setYear(n.props.year+1))})),n}return c(t,e),s(t,[{key:"render",value:function(){return n.createElement("div",{className:"".concat(g,"-month-picker")},n.createElement("button",{className:"previous-button",type:"button",onClick:this.onClickPrevious},C),this.props.renderMonthTitle?this.props.renderMonthTitle(b[this.props.month],this.props.year):b[this.props.month],n.createElement("button",{className:"next-button",type:"button",onClick:this.onClickNext},k))}}]),t}(n.Component),O=function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i(h(n=f(this,(e=p(t)).call.apply(e,[this].concat(o)))),"onClickPrevious",(function(){return n.props.setYear(n.props.year-1)})),i(h(n),"onClickNext",(function(){return n.props.setYear(n.props.year+1)})),n}return c(t,e),s(t,[{key:"render",value:function(){return n.createElement("div",{className:"".concat(g,"-year-picker")},n.createElement("button",{className:"previous-button",type:"button",onClick:this.onClickPrevious},C),this.props.year,n.createElement("button",{className:"next-button",type:"button",onClick:this.onClickNext},k))}}]),t}(n.Component),P=function(e){function t(e){var n;return a(this,t),i(h(n=f(this,p(t).call(this,e))),"selectDay",(function(e,t,r){n.setState({selectedDay:t},(function(){return n.props.onSelect(e,t,r)}))})),i(h(n),"setMonth",(function(e){n.setState({month:e})})),i(h(n),"setYear",(function(e){n.setState({year:e})})),n.state={selectedDay:n.props.selectedDay,month:e.month,year:e.year},n}return c(t,e),s(t,[{key:"componentDidUpdate",value:function(e,t,n){this.props.year===e.year&&this.props.month===e.month&&this.props.selectedDay===e.selectedDay||this.setState({selectedDay:this.props.selectedDay,year:this.props.year,month:this.props.month})}},{key:"render",value:function(){var e=this;return n.createElement("div",{ref:this.props.reference,className:"".concat(g," ").concat(this.props.className||""),style:this.props.style},this.props.displayYearPicker&&n.createElement(O,{setYear:this.setYear,year:this.state.year}),this.props.displayMonthPicker&&n.createElement(M,{month:this.state.month,renderMonthTitle:this.props.renderMonthTitle,setMonth:this.setMonth,setYear:this.setYear,year:this.state.year}),n.createElement("ul",{className:"".concat(g,"-months")},m(Array(this.props.visibleMonths)).map((function(t,r){return n.createElement("li",{key:r},n.createElement(S,{dateClasses:e.props.dateClasses,displayMonthTitle:e.props.displayMonthTitle,displayDayTitles:e.props.displayDayTitles,month:e.state.month,onSelect:e.props.onSelect,selectDay:e.selectDay,selectedDay:e.state.selectedDay,visibleMonths:e.props.visibleMonths,year:e.state.year}))}))),this.props.after)}}]),t}(n.Component);P.defaultProps={dateClasses:[],displayDayTitles:!0,displayMonthPicker:!0,displayYearPicker:!0,month:(new Date).getMonth(),onSelect:function(){},visibleMonths:1,year:(new Date).getFullYear()};var E=function(t){function o(t){var r;return a(this,o),i(h(r=f(this,p(o).call(this,t))),"onFocus",(function(){return r.setState({displayCalendar:!0},(function(){"function"==typeof r.props.onFocus&&r.props.onFocus(e)}))})),i(h(r),"close",(function(){return r.setState({displayCalendar:!1})})),i(h(r),"onChange",(function(e){var t={value:e.target.value},n=r.props.valueToDate(e.target.value);n instanceof Date&&!isNaN(n)&&n.getFullYear()>999&&(t.selectedDay=n,t.month=n.getMonth(),t.year=n.getFullYear()),r.setState(t,(function(){"function"==typeof r.props.onChange&&r.props.onChange(e)}))})),i(h(r),"onDateSelection",(function(e,t,n){r.setState({displayCalendar:!1,value:r.props.dateToValue(t),selectedDay:t},(function(){return r.props.onSelect(e,t,n)}))})),r.state={displayCalendar:!1,value:t.selectedDay?t.dateToValue(t.selectedDay):"",selectedDay:t.selectedDay,month:t.month,year:t.year},r.calendarRef=n.createRef(),r.inputRef=n.createRef(),r}return c(o,t),s(o,[{key:"componentDidUpdate",value:function(e,t,n){e.selectedDay!==this.props.selectedDay&&this.setState({value:this.props.selectedDay?this.props.dateToValue(this.props.selectedDay):"",selectedDay:this.props.selectedDay})}},{key:"render",value:function(){var e=this.props,t=(e.className,e.dataClasses,e.dateToValue,e.selectedDay,e.visibleMonths,e.displayDayTitles,e.displayMonthPicker,e.month,e.year,e.onSelect,e.valueToDate,y(e,["className","dataClasses","dateToValue","selectedDay","visibleMonths","displayDayTitles","displayMonthPicker","month","year","onSelect","valueToDate"]));return n.createElement(n.Fragment,null,n.createElement("input",l({ref:this.inputRef,className:"".concat(g,"-date-picker ").concat(this.props.className||"")},t,{value:this.state.value,onFocus:this.onFocus,onChange:this.onChange})),this.renderCalendar())}},{key:"renderCalendar",value:function(){if(this.state.displayCalendar)return r.createPortal(n.createElement(P,{reference:this.calendarRef,style:this.getStyle(),className:"is-portal",selectedDay:this.state.selectedDay,visibleMonths:this.props.visibleMonths,displayDayTitles:this.props.displayDayTitles,displayMonthPicker:this.props.displayMonthPicker,displayYearPicker:this.props.displayYearPicker,month:this.state.month,year:this.state.year,onSelect:this.onDateSelection,renderMonthTitle:this.props.renderMonthTitle,dataClasses:this.props.dataClasses,after:n.createElement("button",{type:"button",onClick:this.close,className:"close-button"},"Close")}),document.getElementsByTagName("body")[0])}},{key:"getStyle",value:function(){if(this.props.getStyle)return this.props.getStyle(this.inputRef.current,this.calendarRef.current);var e=this.inputRef.current.getBoundingClientRect(),t={left:"".concat(e.left,"px")};return this.props.direction&&"TOP"===this.props.direction.toUpperCase()?t.bottom=document.documentElement.scrollHeight-e.top:t.top="".concat(e.top+e.height,"px"),t}}]),o}(n.Component);E.defaultProps={dateToValue:function(e){return e.toLocaleDateString()},valueToDate:function(e){e=e.split(/[/.,-]/g).map((function(e){return parseInt(e)}));var t=new Date(2020,0,25).toLocaleDateString().split(/[/.,-]/g).map((function(e){return parseInt(e)})),n=t.indexOf(2020),r=t.indexOf(1),a=t.indexOf(25);return new Date(e[n],e[r]-1,e[a])},onSelect:function(){}},t.Calendar=P,t.DatePicker=E,t.setConfiguration=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.firstDay&&(v=e.firstDay),e.daysTitles&&(D=e.daysTitles),e.monthsTitles&&(b=e.monthsTitles),e.libClassName&&(g=e.libClassName),e.previousButton&&(C=e.previousButton),e.nextButton&&(k=e.nextButton)},Object.defineProperty(t,"__esModule",{value:!0})}));
